<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#1e7bbf">
  <link rel="shortcut icon" href="../../../favicon-1.ico">
  <title>La regla @layer - CSS en español - Lenguaje CSS</title>
  <link rel="preload" href="../../../critical-1.css" as="style">
  <link rel="preload" href="../../../assets/fonts/blinker-vf-1.woff2" as="font" crossorigin="">
  <link rel="preload" href="../../../assets/fonts/scope-one-400-1.woff2" as="font" crossorigin="">
  <meta name="description" content="La regla @layer se puede utilizar para crear capas con código CSS de forma independiente. Posteriormente se pueden funcionar, siguiendo un orden específico.">
  <link rel="stylesheet" href="../../../critical-1.css">
  <link rel="stylesheet" href="../../../theme-1.css">
  <script type="module" src="../../../main-1.js"></script>
  <link rel="canonical" href="index-1.htm">
  <meta property="og:title" content="La regla @layer - CSS en español">
  <meta property="og:image" content="https://lenguajecss.com/css/large-summary.jpg">
  <meta property="og:type" content="article">
  <meta property="og:description" content="La regla @layer se puede utilizar para crear capas con código CSS de forma independiente. Posteriormente se pueden funcionar, siguiendo un orden específico.">
  <meta property="og:url" content="https://lenguajecss.com/css/reglas-css/la-regla-layer/">
  <meta property="twitter:url" content="https://lenguajecss.com/css/reglas-css/la-regla-layer/">
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:creator" content="@Manz">
  <meta property="twitter:title" content="La regla @layer - CSS en español">
  <meta property="twitter:description" content="La regla @layer se puede utilizar para crear capas con código CSS de forma independiente. Posteriormente se pueden funcionar, siguiendo un orden específico.">
  <meta property="twitter:image:src" content="https://lenguajecss.com/css/large-summary.jpg">
</head>
<body class="css post"><div class="page">
    <div class="sidebar">
      <div class="logo flex-center">
  <a href="../../../index.htm">
    <img width="42" height="42" src="../../../assets/logo-1.svg" alt="Logo">
    Lenguaje CSS
  </a>
  <div class="icons" style="--icon-size: 32px; --icon-side-padding: 0.15em">
    <a href="https://twitter.com/Manz" title="Twitter"><svg-icon type="social" name="twitter"></svg-icon></a>
    <a href="https://twitch.tv/manzdev" title="Twitch"><svg-icon type="social" name="twitch"></svg-icon></a>
    <a href="https://instagram.com/manz.dev" title="Instagram"><svg-icon type="social" name="instagram"></svg-icon></a>
    <a href="https://youtube.com/ManzDev?sub_confirmation=1" title="YouTube"><svg-icon type="social" name="youtube"></svg-icon></a>
    <a href="https://discord.manz.dev/" title="Servidor de Discord"><svg-icon type="social" name="discord"></svg-icon></a>
  </div>
  <span>Un sitio web de <a href="https://manz.dev/"><mark>Manz.dev</mark></a></span>
</div>

      <form class="search flex-center" action="https://www.google.com/search">
  <label><span>Buscar:</span> <input type="search" name="q" placeholder="Buscar un tema (ej: flex, grid...)" autocomplete="off"></label>
  <label><span>Sitio:</span> <input type="hidden" name="q" value="site:lenguajejs.com OR site:lenguajecss.com OR site:lenguajehtml.com OR site:terminaldelinux.com OR site:manz.dev"></label>
  <div class="search-results"></div>
</form>

      

<style>
  sidebar-link {
    --logo-image: url(../../logo-1.svg);
  }
</style>

<div class="toc"><sidebar-link title="Volver al índice" href="../../index-1.htm" back="" direct=""></sidebar-link><sidebar-link href="../../cheatsheets/index-1.htm" title="CSS3 Cheatsheet" direct=""></sidebar-link><sidebar-section title="Introducción a CSS" href="../../introduccion/index-1.htm"><sidebar-link href="../../introduccion/que-es-css/index-1.htm" title="¿Qué es CSS?"></sidebar-link><sidebar-link href="../../introduccion/como-usar-css/index-1.htm" title="¿Cómo usar CSS?"></sidebar-link><sidebar-link href="../../introduccion/estructura-de-css/index-1.htm" title="Estructura de CSS"></sidebar-link><sidebar-link href="../../introduccion/minificar-css/index-1.htm" title="Minificar CSS"></sidebar-link><sidebar-link href="../../introduccion/navegadores-web/index-1.htm" title="Navegadores web"></sidebar-link><sidebar-link href="../../introduccion/niveles-y-prefijos-css/index-1.htm" title="Niveles de CSS y prefijos"></sidebar-link><sidebar-link href="../../introduccion/herencia-css/index-1.htm" title="Herencia en CSS"></sidebar-link><sidebar-link href="../../introduccion/cascada-css/index-1.htm" title="Cascada en CSS"></sidebar-link><sidebar-link href="../../introduccion/css-custom-properties/index-1.htm" title="Variables CSS"></sidebar-link><sidebar-link href="../../introduccion/guia-css/index-1.htm" title="La guía de propiedades CSS"></sidebar-link></sidebar-section><sidebar-section title="Modelo de cajas" href="../../modelo-de-cajas/index-1.htm"><sidebar-link href="../../modelo-de-cajas/unidades-css/index-1.htm" title="Unidades CSS"></sidebar-link><sidebar-link href="../../modelo-de-cajas/que-es/index-1.htm" title="Modelo de cajas"></sidebar-link><sidebar-link href="../../modelo-de-cajas/margenes-y-rellenos/index-1.htm" title="Márgenes y rellenos"></sidebar-link><sidebar-link href="../../modelo-de-cajas/bordes/index-1.htm" title="Bordes CSS"></sidebar-link><sidebar-link href="../../modelo-de-cajas/border-radius/index-1.htm" title="Esquinas redondeadas"></sidebar-link><sidebar-link href="../../modelo-de-cajas/propiedades-logicas-css/index-1.htm" title="Propiedades lógicas CSS"></sidebar-link><sidebar-link href="../../modelo-de-cajas/bordes-imagenes/index-1.htm" title="Bordes con imágenes"></sidebar-link><sidebar-link href="../../modelo-de-cajas/funciones-css/index-1.htm" title="Funciones CSS"></sidebar-link></sidebar-section><sidebar-section title="Colores, fondos e imágenes" href="../../colores-y-fondos/index-1.htm"><sidebar-link href="../../colores-y-fondos/colores-css/index-1.htm" title="Colores CSS"></sidebar-link><sidebar-link href="../../colores-y-fondos/propiedad-opacity/index-1.htm" title="La propiedad opacity"></sidebar-link><sidebar-link href="../../colores-y-fondos/propiedad-background-image/index-1.htm" title="La propiedad background-image"></sidebar-link><sidebar-link href="../../colores-y-fondos/linear-gradient/index-1.htm" title="Gradientes lineales"></sidebar-link><sidebar-link href="../../colores-y-fondos/radial-gradient/index-1.htm" title="Gradientes radiales"></sidebar-link><sidebar-link href="../../colores-y-fondos/conic-gradient/index-1.htm" title="Gradientes cónicos"></sidebar-link><sidebar-link href="../../colores-y-fondos/imagenes-css/index-1.htm" title="Imágenes y Objetos"></sidebar-link></sidebar-section><sidebar-section title="Selectores CSS" href="../../selectores/index-1.htm"><sidebar-link href="../../selectores/selectores-basicos/index-1.htm" title="Selectores CSS básicos"></sidebar-link><sidebar-link href="../../selectores/selectores-avanzados/index-1.htm" title="Selectores CSS avanzados"></sidebar-link><sidebar-link href="../../selectores/pseudoclases/index-1.htm" title="Pseudoclases CSS"></sidebar-link><sidebar-link href="../../selectores/pseudoclases-avanzadas/index-1.htm" title="Pseudoclases CSS avanzadas"></sidebar-link><sidebar-link href="../../selectores/pseudoelementos/index-1.htm" title="Pseudoelementos CSS"></sidebar-link><sidebar-link href="../../selectores/atributos/index-1.htm" title="Atributos CSS"></sidebar-link></sidebar-section><sidebar-section title="Reglas CSS" href="../index-1.htm"><sidebar-link href="../que-son-reglas-css/index-1.htm" title="¿Qué son las reglas CSS?"></sidebar-link><sidebar-link href="../la-regla-import/index-1.htm" title="La regla @import"></sidebar-link><sidebar-link href="index-1.htm" title="La regla @layer"></sidebar-link><sidebar-link href="../la-regla-supports/index-1.htm" title="La regla @supports"></sidebar-link></sidebar-section><sidebar-section title="Fuentes y tipografías" href="../../fuentes-y-tipografias/index-1.htm"><sidebar-link href="../../fuentes-y-tipografias/tipografias/index-1.htm" title="Tipografías CSS"></sidebar-link><sidebar-link href="../../fuentes-y-tipografias/tipografias-externas/index-1.htm" title="Tipografías externas"></sidebar-link><sidebar-link href="../../fuentes-y-tipografias/fuentes-variables/index-1.htm" title="Fuentes variables CSS"></sidebar-link><sidebar-link href="../../fuentes-y-tipografias/textos-y-alineaciones/index-1.htm" title="Textos y alineaciones"></sidebar-link><sidebar-link href="../../fuentes-y-tipografias/propiedades-avanzadas/index-1.htm" title="Propiedades avanzadas"></sidebar-link><sidebar-link href="../../fuentes-y-tipografias/caracteristicas-personalizadas/index-1.htm" title="Características personalizadas"></sidebar-link></sidebar-section><sidebar-section title="Representación de datos" href="../../representacion-datos/index-1.htm"><sidebar-link href="../../representacion-datos/tablas-css/index-1.htm" title="Tablas CSS"></sidebar-link><sidebar-link href="../../representacion-datos/listas-css/index-1.htm" title="Listas CSS"></sidebar-link><sidebar-link href="../../representacion-datos/contadores-css/index-1.htm" title="Contadores CSS"></sidebar-link></sidebar-section><sidebar-section title="Maquetación y colocación" href="../../maquetacion-y-colocacion/index-1.htm"><sidebar-link href="../../maquetacion-y-colocacion/propiedad-display/index-1.htm" title="La propiedad display"></sidebar-link><sidebar-link href="../../maquetacion-y-colocacion/posicionamiento-css/index-1.htm" title="La propiedad position"></sidebar-link><sidebar-link href="../../maquetacion-y-colocacion/desplazamientos/index-1.htm" title="La propiedad float"></sidebar-link><sidebar-link href="../../maquetacion-y-colocacion/flexbox/index-1.htm" title="Flexbox CSS"></sidebar-link><sidebar-link href="../../maquetacion-y-colocacion/grid-css/index-1.htm" title="Grid CSS"></sidebar-link></sidebar-section><sidebar-section title="Interacciones" href="../../interacciones/index-1.htm"><sidebar-link href="../../interacciones/contornos/index-1.htm" title="Contornos"></sidebar-link><sidebar-link href="../../interacciones/cursor-del-raton/index-1.htm" title="Cursor del ratón"></sidebar-link><sidebar-link href="../../interacciones/scroll-y-overflow/index-1.htm" title="Scroll y Overflow"></sidebar-link><sidebar-link href="../../interacciones/snap-scroll/index-1.htm" title="CSS Snap Scroll"></sidebar-link></sidebar-section><sidebar-section title="Sombras" href="../../sombras/index-1.htm"><sidebar-link href="../../sombras/text-shadow/index-1.htm" title="Sombras CSS en textos"></sidebar-link><sidebar-link href="../../sombras/box-shadow/index-1.htm" title="Sombras CSS en cajas"></sidebar-link><sidebar-link href="../../sombras/drop-shadow/index-1.htm" title="Sombras idénticas CSS"></sidebar-link></sidebar-section><sidebar-section title="Efectos" href="../../efectos/index-1.htm"><sidebar-link href="../../efectos/filtros-css/index-1.htm" title="Filtros CSS"></sidebar-link><sidebar-link href="../../efectos/modos-de-fusion/index-1.htm" title="Modos de fusión CSS"></sidebar-link></sidebar-section><sidebar-section title="Máscaras y recortes" href="../../mascaras-y-recortes/index-1.htm"><sidebar-link href="../../mascaras-y-recortes/clip-path/index-1.htm" title="La propiedad clip-path"></sidebar-link><sidebar-link href="../../mascaras-y-recortes/mask-image/index-1.htm" title="La propiedad mask-image"></sidebar-link></sidebar-section><sidebar-section title="Responsive Web Design" href="../../responsive-web-design/index-1.htm"><sidebar-link href="../../responsive-web-design/que-es/index-1.htm" title="¿Qué es Responsive Design?"></sidebar-link><sidebar-link href="../../responsive-web-design/bases-responsive/index-1.htm" title="Bases del Responsive Design"></sidebar-link><sidebar-link href="../../responsive-web-design/media-queries/index-1.htm" title="Media Queries"></sidebar-link><sidebar-link href="../../responsive-web-design/medios-impresos/index-1.htm" title="Medios impresos"></sidebar-link><sidebar-link href="../../responsive-web-design/medios-paginados/index-1.htm" title="Medios paginados"></sidebar-link><sidebar-link href="../../responsive-web-design/preferencias-usuario/index-1.htm" title="Preferencias de usuario"></sidebar-link></sidebar-section><sidebar-section title="Animaciones CSS" href="../../animaciones/index-1.htm"><sidebar-link href="../../animaciones/transiciones/index-1.htm" title="Transiciones CSS"></sidebar-link><sidebar-link href="../../animaciones/timing-function/index-1.htm" title="Funciones de tiempo"></sidebar-link><sidebar-link href="../../animaciones/animaciones/index-1.htm" title="Animaciones CSS"></sidebar-link><sidebar-link href="../../animaciones/keyframes/index-1.htm" title="La regla @keyframes"></sidebar-link></sidebar-section><sidebar-section title="Transformaciones CSS" href="../../transformaciones/index-1.htm"><sidebar-link href="../../transformaciones/transform/index-1.htm" title="Transformaciones CSS"></sidebar-link><sidebar-link href="../../transformaciones/transform-translate/index-1.htm" title="Translaciones 2D"></sidebar-link><sidebar-link href="../../transformaciones/transform-rotate/index-1.htm" title="Rotaciones 2D"></sidebar-link><sidebar-link href="../../transformaciones/transform-scale/index-1.htm" title="Escalado 2D"></sidebar-link><sidebar-link href="../../transformaciones/transform-skew/index-1.htm" title="Deformaciones 2D"></sidebar-link><sidebar-link href="../../transformaciones/transform-3d/index-1.htm" title="Transformaciones 3D"></sidebar-link><sidebar-link href="../../transformaciones/perspective/index-1.htm" title="Perspectivas CSS"></sidebar-link></sidebar-section><sidebar-section title="Dibujar con CSS" href="../../dibujar-con-css/index-1.htm"><sidebar-link href="../../dibujar-con-css/como-empezar/index-1.htm" title="¿Cómo dibujar con CSS?"></sidebar-link><sidebar-link href="../../dibujar-con-css/estructura-html/index-1.htm" title="Primeros pasos: Estructura HTML"></sidebar-link><sidebar-link href="../../dibujar-con-css/estructura-css/index-1.htm" title="Primeros pasos: Estructura CSS"></sidebar-link></sidebar-section></div>

      
    </div>
    <div class="contents">
      <header class="mega">
  <h1>La regla @layer</h1><h2>Crear capas CSS con código independiente</h2></header>

      <div class="content ">
  <div class="breadcrumbs">
  <a href="../../../index.htm">ATRÁS</a> <span>ᐳ</span> <a href="../../index-1.htm">css</a> <span>ᐳ</span> <a href="index-1.htm">La regla @layer</a>
</div>
<p>La regla <code>@layer</code> de CSS, permite declarar una <strong>capa de cascada</strong>. Estas capas son muy similares y funcionan de forma muy parecida a las capas de cualquier editor gráfico. Permiten agrupar código CSS en el interior de una capa, y finalmente, fusionarlo todo manteniendo el orden especificado, algo que puede hacer mucho más fácil el organizar CSS, sobretodo de cara a la <strong>especificidad</strong>.</p>
<p>Veamos un ejemplo de la sintaxis de la regla <code>@layer</code>:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> reset</span> <span class="token punctuation">{</span><br>  <span class="token selector">body</span> <span class="token punctuation">{</span><br>    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><br>    <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>En este caso, estamos creando una capa <code>reset</code> que va a incluir código CSS que normalmente hace un reseteo en ciertas propiedades sobre la forma que funciona un navegador. El nombre <code>reset</code> lo establece el desarrollador, y puede ser cualquier otro nombre que desee. Esto significa que, a partir de ahora, existirá una capa <code>reset</code> que incluye los estilos indicados en el interior de dicha regla.</p>
<p>Pero, a parte de la creación de una capa, ¿cuál es su finalidad? ¿Para qué necesitamos las capas? Básicamente para poder <strong>reordenarlas</strong> y evitar problemas de <strong>especificidad</strong> que pueden aparecer a la larga. Lo iremos explicando a lo largo del artículo.</p>
<blockquote>
<blockquote>
<blockquote>
<p>Ten en cuenta que esta característica aún es experimental y puede no estar soportada en algunos navegadores.</p>
</blockquote>
</blockquote>
</blockquote>
<h3 id="crear-capas-en-css" tabindex="-1">Crear capas en CSS</h3>
<p>Primero, vamos a conocer las múltiples formas de crear capas en CSS utilizando la regla <code>@layer</code>, o incluso utilizando la regla <code>@import</code>. Veamos que sintaxis tenemos disponibles:</p>
<table>
<thead>
<tr>
<th>Formato</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@layer</code></td>
<td>Crea una capa CSS anónima (<em>sin nombre</em>).</td>
</tr>
<tr>
<td><code>@layer</code> <em>nombre</em></td>
<td>Crea una capa CSS con el nombre indicado.</td>
</tr>
<tr>
<td><code>@layer</code> <em>nombre.subcapa</em></td>
<td>Crea una capa CSS con <em>nombre</em>, con una subcapa anidada <em>subcapa</em>.</td>
</tr>
<tr>
<td><code>@layer</code> <em>nombre1</em>, <em>nombre2</em>, <em>nombre3</em>...</td>
<td>Declara y establece un orden para varias capas CSS.</td>
</tr>
<tr>
<td><code>@import(</code><em>fichero.css</em><code>) layer(</code><em>nombre</em><code>)</code></td>
<td>Importa un archivo CSS y lo introduce en la capa indicada.</td>
</tr>
</tbody>
</table>
<p>Utilizando la regla <code>@layer</code> podemos crear una capa CSS con un nombre determinado:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> utils</span> <span class="token punctuation">{</span><br>  <span class="token selector">.primary</span> <span class="token punctuation">{</span><br>    <span class="token property">background</span><span class="token punctuation">:</span> #34a<span class="token punctuation">;</span><br>    <span class="token property">border</span><span class="token punctuation">:</span> 2px outset #6381db<span class="token punctuation">;</span><br>    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span><br>    <span class="token property">padding</span><span class="token punctuation">:</span> 5px 10px<span class="token punctuation">;</span><br>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>Al crear capas, de forma implícita estamos indicando el orden de las capas (<em>orden en el que han sido definidas</em>). Esto es una parte muy importante de la creación de capas en CSS, ya que determina el orden en el que se van a evaluar. Sin embargo, veremos más adelante que ese orden puede modificarse.</p>
<h3 id="capas-anónimas" tabindex="-1">Capas anónimas</h3>
<p>Si en lugar de escribir el nombre de la capa (<em>utils en nuestro ejemplo</em>) no escribimos nada, estamos creando una <strong>capa anónima sin nombre</strong>, que es lo mismo que ocurre si colocamos CSS sin ninguna capa, al final se creará una capa anónima donde se incluirá ese código CSS.</p>
<p>La sintaxis explícita sería la siguiente:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span></span> <span class="token punctuation">{</span><br>  <span class="token selector">.primary</span> <span class="token punctuation">{</span><br>    <span class="token property">background</span><span class="token punctuation">:</span> #34a<span class="token punctuation">;</span><br>    <span class="token property">border</span><span class="token punctuation">:</span> 2px outset #6381db<span class="token punctuation">;</span><br>    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span><br>    <span class="token property">padding</span><span class="token punctuation">:</span> 5px 10px<span class="token punctuation">;</span><br>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>Ten en cuenta que en el siguiente apartado veremos que existen formas de hacer referencia a capas para reordenarlas o añadir más contenido en dicha capa.</p>
<blockquote>
<p>En el caso de crear <strong>capas anónimas</strong>, no existe ninguna forma de hacer referencia a ellas posteriormente para añadir más código CSS o reordenarlas. Recuerda que si creamos múltiples capas anónimas como en el ejemplo anterior, el navegador creará múltiples capas anónimas diferentes.</p>
</blockquote>
<h3 id="orden-de-las-capas" tabindex="-1">Orden de las capas</h3>
<p>Podemos cambiar el orden de las capas, si establecemos una regla <code>@layer</code> con las diferentes capas separadas por coma. Hay que asegurarse que esto ocurre antes de la creación de las capas, ya que una vez están declaradas, no se puede cambiar su orden:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>First button<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Second button<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css"><br><span class="token atrule"><span class="token rule">@layer</span> reset<span class="token punctuation">,</span> texts<span class="token punctuation">,</span> theme<span class="token punctuation">;</span></span><br><br><span class="token atrule"><span class="token rule">@layer</span> reset</span> <span class="token punctuation">{</span><br>  <span class="token selector">button</span> <span class="token punctuation">{</span><br>    <span class="token property">padding</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token atrule"><span class="token rule">@layer</span> theme</span> <span class="token punctuation">{</span><br>  <span class="token selector">.primary</span> <span class="token punctuation">{</span><br>    <span class="token property">background</span><span class="token punctuation">:</span> #34a<span class="token punctuation">;</span><br>    <span class="token property">border</span><span class="token punctuation">:</span> 2px outset #6381db<span class="token punctuation">;</span><br>    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span><br>    <span class="token property">padding</span><span class="token punctuation">:</span> 5px 10px<span class="token punctuation">;</span><br>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token atrule"><span class="token rule">@layer</span> texts</span> <span class="token punctuation">{</span><br>  <span class="token selector">.primary</span> <span class="token punctuation">{</span><br>    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span></code></pre>
<p>Si en el caso anterior, no definimos la primera línea, el orden de las capas sería <code>reset, theme, texts</code>, sin embargo, al haberlo definido, el orden de las capas del ejemplo anterior se establece en <code>reset, texts, theme</code>. Observa que la diferencia aparente es que el texto de los botones aparecen en <strong>color rojo</strong>. Para ello, hay que comprender como funciona la <strong>especificidad de CSS</strong>.</p>
<p>Este ejemplo es muy sencillo, y simplemente, con la primera regla <code>@layer</code> cambiamos el orden en el que se procesan las capas, consiguiendo darle prioridad a la capa <code>theme</code> porque está en último lugar, sobreescribiendo los estilos del color de texto de la capa <code>texts</code>.</p>
<p>En el caso de indicar múltiples veces una misma capa, el navegador fusionará los estilos en la misma capa. Esto permitirá que en algunos casos podamos añadir más estilos a una capa ya definida:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> theme</span> <span class="token punctuation">{</span><br>  <span class="token selector">.primary</span> <span class="token punctuation">{</span><br>    <span class="token property">background</span><span class="token punctuation">:</span> #34a<span class="token punctuation">;</span><br>    <span class="token property">border</span><span class="token punctuation">:</span> 2px outset #6381db<span class="token punctuation">;</span><br>    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span><br>    <span class="token property">padding</span><span class="token punctuation">:</span> 5px 10px<span class="token punctuation">;</span><br>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token atrule"><span class="token rule">@layer</span> theme</span> <span class="token punctuation">{</span><br>  <span class="token selector">.primary</span> <span class="token punctuation">{</span><br>    <span class="token property">color</span><span class="token punctuation">:</span> gold<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>Observa que en este caso, el color de texto del botón será <code>gold</code>.</p>
<blockquote>
<p>Ten en cuenta que cualquier estilo declarado sin capa, independientemente del orden de aparición, se agrupará en una <strong>capa anónima</strong> y se aplicará <strong>siempre al final</strong> del resto de capas declaradas.</p>
</blockquote>
<h3 id="la-especificidad-en-capas-css" tabindex="-1">La especificidad en capas CSS</h3>
<p>Observa el siguiente ejemplo. En él, encontrarás tres grupos de código CSS donde se utiliza el selector. En estos bloques de código no suele haber dudas, ya que al ser el mismo selector, se aplica el orden y la herencia, y simplemente <strong>se fusionan los estilos</strong>, sobreescribiendo el último a los anteriores de coincidir las propiedades:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.primary</span> <span class="token punctuation">{</span><br>  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token selector">.primary</span> <span class="token punctuation">{</span><br>  <span class="token property">background</span><span class="token punctuation">:</span> #34a<span class="token punctuation">;</span><br>  <span class="token property">border</span><span class="token punctuation">:</span> 2px outset #6381db<span class="token punctuation">;</span><br>  <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span><br>  <span class="token property">padding</span><span class="token punctuation">:</span> 5px 10px<span class="token punctuation">;</span><br>  <span class="token property">border-radius</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token selector">.primary</span> <span class="token punctuation">{</span><br>  <span class="token property">margin</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span><br>  <span class="token property">color</span><span class="token punctuation">:</span> gold<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>Sin embargo, modifiquemos las clases para hacer más específicos los selectores. En cada grupo seleccionamos el mismo elemento pero con diferente especificidad:</p>
<ul>
<li><strong>Primer grupo</strong>: Botones <code>button</code> que tienen un atributo <code>class</code> y clase <code>primary</code> (<em>especificidad 021</em>)</li>
<li><strong>Segundo grupo</strong>: Botones <code>button</code> que tienen clase <code>primary</code>. (<em>especificidad 011</em>)</li>
<li><strong>Tercer grupo</strong>: Botones que tienen clase <code>primary</code>. (<em>especificidad 010</em>)</li>
</ul>
<p>Al contrario que muchos desarrolladores piensan, en CSS no se fusionan los estilos al ser (<em>al fin y al cabo</em>) el mismo elemento, sino que los selectores <strong>más especificos</strong> son los que tendrán prioridad, independientemente del orden:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">button[class].primary</span> <span class="token punctuation">{</span><br>  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token selector">button.primary</span> <span class="token punctuation">{</span><br>  <span class="token property">background</span><span class="token punctuation">:</span> #34a<span class="token punctuation">;</span><br>  <span class="token property">border</span><span class="token punctuation">:</span> 2px outset #6381db<span class="token punctuation">;</span><br>  <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span><br>  <span class="token property">padding</span><span class="token punctuation">:</span> 5px 10px<span class="token punctuation">;</span><br>  <span class="token property">border-radius</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token selector">.primary</span> <span class="token punctuation">{</span><br>  <span class="token property">margin</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span><br>  <span class="token property">color</span><span class="token punctuation">:</span> gold<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>En este caso, se aplicará primero el último grupo (<em>al ser el menos especifico</em>), luego se aplicarán los estilos del segundo grupo, sobreescribiendo el color <strong>blanco</strong> por el color <strong>dorado</strong>. Por último, el primer bloque sobreescribirá con el color <strong>rojo</strong>.</p>
<p>Modifiquemos un poco el ejemplo anterior, y vamos a añadir el primer grupo en una capa llamada <code>texts</code>:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> texts</span> <span class="token punctuation">{</span><br>  <span class="token selector">button[class].primary</span> <span class="token punctuation">{</span><br>    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token selector">button.primary</span> <span class="token punctuation">{</span><br>  <span class="token property">background</span><span class="token punctuation">:</span> #34a<span class="token punctuation">;</span><br>  <span class="token property">border</span><span class="token punctuation">:</span> 2px outset #6381db<span class="token punctuation">;</span><br>  <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span><br>  <span class="token property">padding</span><span class="token punctuation">:</span> 5px 10px<span class="token punctuation">;</span><br>  <span class="token property">border-radius</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token selector">.primary</span> <span class="token punctuation">{</span><br>  <span class="token property">margin</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span><br>  <span class="token property">color</span><span class="token punctuation">:</span> gold<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>Ahora, observa que la capa <code>texts</code> creada será la primera en procesarse por el navegador. Lo primero que hará es agrupar todos los estilos en dicha capa, calcular sus especificidades y aplicarlas. Luego, buscará si existen otras capas diferentes para procesarlas. Si no existen más, agrupará el resto de los estilos fuera de capas en una <strong>capa anónima</strong> y los aplicará después de los anteriores.</p>
<p>De esta forma, hemos cambiado el comportamiento que explicamos al principio por algo que, unido a la posibilidad de agrupar en diferentes capas y ordenar mediante la regla <code>@layer</code> se convierte en un recurso muy potente para organizar código por parte de los desarrolladores.</p>
<h3 id="capas-css-anidadas" tabindex="-1">Capas CSS anidadas</h3>
<p>Dentro de las capas de CSS, también es posible crear capas dentro de otras. Para ello, solo tenemos que utilizar la regla <code>@layer</code> dentro de otra regla <code>@layer</code>, como se puede ver a continuación:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> base</span> <span class="token punctuation">{</span><br>  <span class="token atrule"><span class="token rule">@layer</span> reset</span> <span class="token punctuation">{</span><br>    <span class="token selector">body</span> <span class="token punctuation">{</span><br>      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><br>      <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>Ten en cuenta que también puedes usar una sintaxis rápida separando los nombres de la capa con puntos. El ejemplo anterior podría definirse también de la siguiente forma:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> base.reset</span> <span class="token punctuation">{</span><br>  <span class="token selector">body</span> <span class="token punctuation">{</span><br>    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><br>    <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<h3 id="importar-css-en-una-capa" tabindex="-1">Importar CSS en una capa</h3>
<p>Si ya conocemos la <a href="../la-regla-import/index-1.htm">regla @import</a>, sabremos que es posible utilizarla para importar código CSS de ficheros externos e incorporarlo a nuestra página. Sin embargo, existe una forma de hacerlo añadiéndolo a una capa CSS específica, utilizando la palabra clave <code>layer</code> tras la importación:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"framework.css"</span><span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>framework<span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre>
<p>Esto permitirá que incluso código externo que tengamos separados en diferentes archivos, se pueda colocar directamente en una capa.</p>
<p><caniuse-support title="CSS Cascade Layers" feature="css-cascade-layers" edge="99/y" firefox="97/y" chrome="99/y" safari="15.4/d" opera="86/y" ios_saf="15.4/y" and_chr="103/y" and_ff="101/y">
</caniuse-support></p>

    <nav class="prev-next"><a class="bt prev" href="../la-regla-import/index-1.htm" title="La regla @import">
    <span class="data">
      <span>La regla @import</span>
      <small>Capítulo anterior</small>
    </span>
  </a><a class="bt next" href="../la-regla-supports/index-1.htm" title="La regla @supports">
    <span class="icon">
      <svg-icon name="arrow-right"></svg-icon>
    </span>
    <span class="data">
      <span>La regla @supports</span>
      <small>Capítulo siguiente</small>
    </span>
  </a></nav>

    <script async="" src="../../../pagead/js/f-1.txt"></script>
<ins class="adsbygoogle" style="display:block; text-align:center; margin:auto; margin-top: 2em" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-0412426997270095" data-ad-slot="3027930890"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

      <div class="related">

  <div class="author">
    <div class="author-wrapper">
      <img loading="lazy" class="circle" src="../../../assets/manz-1.webp" alt="Manz">
      <div>
        <p>Docente, divulgador informático y <a href="https://manz.dev/">streamer de código</a>. Amante de <strong>CSS</strong>, <strong>Javascript</strong>
          y de la plataforma web. Ha trabajado como profesor en la Universidad de La Laguna y es director del curso de
          Programación web FullStack y FrontEnd de EOI desde Tenerife. En sus ratos libres, busca GIF de gatos en Internet.</p>
        <p class="twitch-badge">
          <a href="https://twitch.tv/ManzDev">
            <svg class="twitch" viewbox="0 0 1024 1024">
              <path style="fill-opacity: 1; stroke: none; stroke-width: 1px; stroke-linecap: butt; stroke-linejoin: miter; stroke-opacity: 1;" d="m262.451 12.904-178.26 178.26v641.672h213.905v178.26l178.26-178.26h142.576L939.809 512V12.904H262.45zm35.645 71.287h570.383v392.164L725.904 618.932H583.287L458.514 743.705V618.932H298.096V84.192zM494.158 208.51v216.36h71.328V208.51h-71.328zm196 0v216.36h71.328V208.51h-71.328z"></path>
            </svg>
            Sígueme en Twitch
          </a>
        </p>
      </div>
    </div>
  </div>

  <div id="comentarios">
    <script async="" src="../../../count-1.js" id="dsq-count-scr"></script>
<script>
var disqus_config = function () {
  this.page.path = location.pathname.endsWith("/") ? location.pathname.substring(0, location.pathname.length - 1) : location.pathname;
  this.page.url = 'https://lenguajecss.com' + this.page.path;
  this.page.identifier = this.page.url;
};
document.addEventListener('DOMContentLoaded', function() {
  const coms = document.querySelector('#comentarios');
  a = coms.querySelector('#disqus_button');
  a.dataset.disqusIdentifier = 'https://lenguajecss.com' + (location.pathname.endsWith("/") ? location.pathname.substring(0, location.pathname.length - 1) : location.pathname);
  a.addEventListener('click', function() {
    const div = document.createElement('div');
    div.id = 'disqus_thread';
    coms.appendChild(div);
    const d = document, s = d.createElement('script');
    s.src = '//lenguajecss.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    this.remove();
  });
});
</script>

    <a class="disqus-comment-count" id="disqus_button" href="#disqus_thread" data-disqus-identifier="https://lenguajecss.com/css/reglas-css/la-regla-layer/">Leer comentarios</a>
    <a class="discord" href="https://discord.manz.dev/">¡Accede a Discord y cuéntanos!</a>
  </div>

</div>

    </div>
    <div class="aside">
      <div class="aside">

  <div class="aside-top">
    <a href="https://manz.dev/digitalocean" title="Empieza en DigitalOcean con 100$">
      <img width="240" height="120" src="../../../assets/digital-ocean-1.png" alt="DigitalOcean">
    </a>
  </div><div class="video-related">
  <div class="table">Hablo de esto en...</div>
  <a href="https://youtu.be/uskKA8vzfsA"><img width="220" height="124" src="../../../vi/uskKA8vzfsA/mqdefault-1.jpg" alt="La regla @layer"></a>
</div><script type="module">
  const ANCHOR_ICON = /* svg */`
    <svg class="anchor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 205 205" width="36" height="36">
      <path d="m140 129 16 16s-20 30-42 30V71c14-5 25-18 25-34 0-20-17-36-37-36-21 0-38 16-38 36 0 15 11 29 25
              34v104c-26-2-42-27-42-27l18-18-65-9 10 63 17-17c15 12 32 37 73 37 51-1 63-29 76-40l19 19 10-64-65
              10zM83 36c0-10 8-18 19-18s19 8 19 18c0 11-9 19-19 19s-19-8-19-19z"/>
    </svg>`;
  // Add inner links to sidebar menu
  export const addInnerLinks = () => {
    const summary = document.querySelector(".aside .summary .links");
    const headers = Array.from(document.querySelectorAll(".content h3, .content h4"));
    const tocLinks = [];
    headers.forEach((e) => {
      const link = `${location.origin}${location.pathname}#${e.id}`;
      e.innerHTML = `<a class="permalink" href="${link}">${e.textContent} ${ANCHOR_ICON}</a>`;
      const headerType = e.nodeName.toLowerCase();
      const textContent = headerType === "h4" ? e.textContent.replace("La propiedad ", "").replace("La función ", "") : e.textContent;
      tocLinks.push(`<a class="${headerType}" href="#${e.id}">${textContent}</a>`);
    });
    summary.insertAdjacentHTML("beforeEnd", tocLinks.join("\n"));
  };

  addInnerLinks();
</script>

<div class="summary">
  <div class="table">Tabla de contenidos</div>
  <div class="links"></div>
</div>
</div>

    </div>
  </div><footer class="main">
  <div class="square">
    <a href="../../../index.htm"><h2>Lenguaje CSS</h2></a>
    <div class="icons">
      <a href="https://twitter.com/Manz" title="Twitter"><svg-icon type="social" name="twitter"></svg-icon></a>
      <a href="https://twitch.tv/manzdev" title="Twitch"><svg-icon type="social" name="twitch"></svg-icon></a>
      <a href="https://instagram.com/manz.dev" title="Instagram"><svg-icon type="social" name="instagram"></svg-icon></a>
      <a href="https://youtube.com/ManzDev?sub_confirmation=1" title="YouTube"><svg-icon type="social" name="youtube"></svg-icon></a>
      <a href="https://discord.manz.dev/" title="Servidor de Discord"><svg-icon type="social" name="discord"></svg-icon></a>
      <a href="https://github.com/ManzDev" title="GitHub"><svg-icon type="social" name="github"></svg-icon></a>
      <a href="https://codepen.io/Manz" title="Codepen"><svg-icon type="social" name="codepen"></svg-icon></a>
      <a href="https://www.linkedin.com/in/joseromanhdez/" title="Linkedin"><svg-icon type="social" name="linkedin"></svg-icon></a>
    </div>
    <p>Documentación sobre CSS y las mejores herramientas y recursos para aprender a utilizar el lenguaje de estilos CSS (Hojas de estilo).</p>
    <p id="footer">Creado y mantenido por <a href="https://twitter.com/Manz">@Manz</a> con <span title="<3">❤</span></p></div>
</footer>

<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-136544-3', 'auto');
ga('send', 'pageview');
</script>
<script async="" src='../../../analytics-1.js'></script>


</body>
</html>
